<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Nodejs核心模块 | 碌碌无为 🪂 知识整理</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/wwblog/img/favicon.ico">
    <link rel="stylesheet" href="/wwblog/iconfont/iconfont.css">
    <meta name="description" content="">
    <meta name="keywords" content="">
    
    <link rel="preload" href="/wwblog/assets/css/0.styles.6d915053.css" as="style"><link rel="preload" href="/wwblog/assets/js/app.0e0201b5.js" as="script"><link rel="preload" href="/wwblog/assets/js/3.e40f20a1.js" as="script"><link rel="preload" href="/wwblog/assets/js/1.6112db0e.js" as="script"><link rel="preload" href="/wwblog/assets/js/111.1c9d4e37.js" as="script"><link rel="preload" href="/wwblog/assets/js/25.f1c8b165.js" as="script"><link rel="preload" href="/wwblog/assets/js/26.8d4e2030.js" as="script"><link rel="prefetch" href="/wwblog/assets/js/10.ead2052c.js"><link rel="prefetch" href="/wwblog/assets/js/100.8ebd083d.js"><link rel="prefetch" href="/wwblog/assets/js/101.1512be69.js"><link rel="prefetch" href="/wwblog/assets/js/102.1dd604e8.js"><link rel="prefetch" href="/wwblog/assets/js/103.0d2cafa6.js"><link rel="prefetch" href="/wwblog/assets/js/104.2fbbcdf2.js"><link rel="prefetch" href="/wwblog/assets/js/105.034503b5.js"><link rel="prefetch" href="/wwblog/assets/js/106.2377d717.js"><link rel="prefetch" href="/wwblog/assets/js/107.da24425a.js"><link rel="prefetch" href="/wwblog/assets/js/108.8f7a5a17.js"><link rel="prefetch" href="/wwblog/assets/js/109.dac394c5.js"><link rel="prefetch" href="/wwblog/assets/js/11.d6c70d56.js"><link rel="prefetch" href="/wwblog/assets/js/110.f3cc7f27.js"><link rel="prefetch" href="/wwblog/assets/js/112.b55d2ee3.js"><link rel="prefetch" href="/wwblog/assets/js/113.bd64cbc8.js"><link rel="prefetch" href="/wwblog/assets/js/114.4e0db573.js"><link rel="prefetch" href="/wwblog/assets/js/115.2eabd80f.js"><link rel="prefetch" href="/wwblog/assets/js/116.c5fc07ab.js"><link rel="prefetch" href="/wwblog/assets/js/117.90ec6696.js"><link rel="prefetch" href="/wwblog/assets/js/118.0c9946b3.js"><link rel="prefetch" href="/wwblog/assets/js/119.8c93fe06.js"><link rel="prefetch" href="/wwblog/assets/js/12.03a87e33.js"><link rel="prefetch" href="/wwblog/assets/js/120.3488c313.js"><link rel="prefetch" href="/wwblog/assets/js/121.2ed19331.js"><link rel="prefetch" href="/wwblog/assets/js/122.6cf48a1b.js"><link rel="prefetch" href="/wwblog/assets/js/13.46bc3555.js"><link rel="prefetch" href="/wwblog/assets/js/14.2f0bfdcc.js"><link rel="prefetch" href="/wwblog/assets/js/15.4c613dd6.js"><link rel="prefetch" href="/wwblog/assets/js/16.cc9bbedd.js"><link rel="prefetch" href="/wwblog/assets/js/17.280dccef.js"><link rel="prefetch" href="/wwblog/assets/js/18.17de33cf.js"><link rel="prefetch" href="/wwblog/assets/js/19.da0ee97f.js"><link rel="prefetch" href="/wwblog/assets/js/2.ab0c2f02.js"><link rel="prefetch" href="/wwblog/assets/js/20.52f2efe6.js"><link rel="prefetch" href="/wwblog/assets/js/21.f7274164.js"><link rel="prefetch" href="/wwblog/assets/js/22.2ebcf1dc.js"><link rel="prefetch" href="/wwblog/assets/js/23.6815f8f2.js"><link rel="prefetch" href="/wwblog/assets/js/24.8a643cd0.js"><link rel="prefetch" href="/wwblog/assets/js/27.6883885e.js"><link rel="prefetch" href="/wwblog/assets/js/28.ddf9f934.js"><link rel="prefetch" href="/wwblog/assets/js/29.7322cfb8.js"><link rel="prefetch" href="/wwblog/assets/js/30.c5a1f2f8.js"><link rel="prefetch" href="/wwblog/assets/js/31.1702585e.js"><link rel="prefetch" href="/wwblog/assets/js/32.40241365.js"><link rel="prefetch" href="/wwblog/assets/js/33.8687ea63.js"><link rel="prefetch" href="/wwblog/assets/js/34.be20e881.js"><link rel="prefetch" href="/wwblog/assets/js/35.3e12cae0.js"><link rel="prefetch" href="/wwblog/assets/js/36.8852432d.js"><link rel="prefetch" href="/wwblog/assets/js/37.ea27a75a.js"><link rel="prefetch" href="/wwblog/assets/js/38.92b6828e.js"><link rel="prefetch" href="/wwblog/assets/js/39.78416700.js"><link rel="prefetch" href="/wwblog/assets/js/4.1fce4caa.js"><link rel="prefetch" href="/wwblog/assets/js/40.77a5df24.js"><link rel="prefetch" href="/wwblog/assets/js/41.891302ed.js"><link rel="prefetch" href="/wwblog/assets/js/42.cffd47b0.js"><link rel="prefetch" href="/wwblog/assets/js/43.146bf699.js"><link rel="prefetch" href="/wwblog/assets/js/44.e58b6960.js"><link rel="prefetch" href="/wwblog/assets/js/45.95dd3f6b.js"><link rel="prefetch" href="/wwblog/assets/js/46.ed3b9bab.js"><link rel="prefetch" href="/wwblog/assets/js/47.8799af3d.js"><link rel="prefetch" href="/wwblog/assets/js/48.ce6360bb.js"><link rel="prefetch" href="/wwblog/assets/js/49.5cadd6d1.js"><link rel="prefetch" href="/wwblog/assets/js/5.05f748ed.js"><link rel="prefetch" href="/wwblog/assets/js/50.a73e32f0.js"><link rel="prefetch" href="/wwblog/assets/js/51.7b6e4320.js"><link rel="prefetch" href="/wwblog/assets/js/52.7ae7c224.js"><link rel="prefetch" href="/wwblog/assets/js/53.aa62c86c.js"><link rel="prefetch" href="/wwblog/assets/js/54.84af44c7.js"><link rel="prefetch" href="/wwblog/assets/js/55.d06e043f.js"><link rel="prefetch" href="/wwblog/assets/js/56.ad75a58a.js"><link rel="prefetch" href="/wwblog/assets/js/57.6793b83d.js"><link rel="prefetch" href="/wwblog/assets/js/58.5ca646ac.js"><link rel="prefetch" href="/wwblog/assets/js/59.3e7735bc.js"><link rel="prefetch" href="/wwblog/assets/js/6.ececcadc.js"><link rel="prefetch" href="/wwblog/assets/js/60.f6b57a71.js"><link rel="prefetch" href="/wwblog/assets/js/61.0bc79206.js"><link rel="prefetch" href="/wwblog/assets/js/62.e9a8c735.js"><link rel="prefetch" href="/wwblog/assets/js/63.f57bd9f6.js"><link rel="prefetch" href="/wwblog/assets/js/64.d2ce549c.js"><link rel="prefetch" href="/wwblog/assets/js/65.e076c1d1.js"><link rel="prefetch" href="/wwblog/assets/js/66.1a736f60.js"><link rel="prefetch" href="/wwblog/assets/js/67.fe1bc553.js"><link rel="prefetch" href="/wwblog/assets/js/68.a218fa7b.js"><link rel="prefetch" href="/wwblog/assets/js/69.8c1eecc2.js"><link rel="prefetch" href="/wwblog/assets/js/7.7f333b20.js"><link rel="prefetch" href="/wwblog/assets/js/70.6d2d843c.js"><link rel="prefetch" href="/wwblog/assets/js/71.8c646a4e.js"><link rel="prefetch" href="/wwblog/assets/js/72.988bb703.js"><link rel="prefetch" href="/wwblog/assets/js/73.76e5cdeb.js"><link rel="prefetch" href="/wwblog/assets/js/74.ea7799ad.js"><link rel="prefetch" href="/wwblog/assets/js/75.4098c5e4.js"><link rel="prefetch" href="/wwblog/assets/js/76.5622a084.js"><link rel="prefetch" href="/wwblog/assets/js/77.73a7c5f9.js"><link rel="prefetch" href="/wwblog/assets/js/78.23a1d70a.js"><link rel="prefetch" href="/wwblog/assets/js/79.41179bb5.js"><link rel="prefetch" href="/wwblog/assets/js/80.39a49167.js"><link rel="prefetch" href="/wwblog/assets/js/81.9caefc31.js"><link rel="prefetch" href="/wwblog/assets/js/82.52a0fa2e.js"><link rel="prefetch" href="/wwblog/assets/js/83.74b297fd.js"><link rel="prefetch" href="/wwblog/assets/js/84.4553b153.js"><link rel="prefetch" href="/wwblog/assets/js/85.6ab6f74c.js"><link rel="prefetch" href="/wwblog/assets/js/86.0df5ee36.js"><link rel="prefetch" href="/wwblog/assets/js/87.8b329d5e.js"><link rel="prefetch" href="/wwblog/assets/js/88.cb074483.js"><link rel="prefetch" href="/wwblog/assets/js/89.292c5129.js"><link rel="prefetch" href="/wwblog/assets/js/90.9ef31f3a.js"><link rel="prefetch" href="/wwblog/assets/js/91.f9264fdb.js"><link rel="prefetch" href="/wwblog/assets/js/92.a2300a67.js"><link rel="prefetch" href="/wwblog/assets/js/93.95ac6166.js"><link rel="prefetch" href="/wwblog/assets/js/94.1fbab311.js"><link rel="prefetch" href="/wwblog/assets/js/95.3baa307a.js"><link rel="prefetch" href="/wwblog/assets/js/96.25650bf1.js"><link rel="prefetch" href="/wwblog/assets/js/97.0ee7e940.js"><link rel="prefetch" href="/wwblog/assets/js/98.4713ebb1.js"><link rel="prefetch" href="/wwblog/assets/js/99.cdeadc41.js"><link rel="prefetch" href="/wwblog/assets/js/vendors~docsearch.9fd01095.js">
    <link rel="stylesheet" href="/wwblog/assets/css/0.styles.6d915053.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/wwblog/" class="home-link router-link-active"><img src="/wwblog/img/leftLogo.ico" alt="碌碌无为 🪂 知识整理" class="logo"> <span class="site-name can-hide">碌碌无为 🪂 知识整理</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/wwblog/" class="nav-link">🔥 首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🚀 前端" class="dropdown-title"><a href="/wwblog/pages/73309c/" class="link-title">🚀 前端</a> <span class="title" style="display:none;">🚀 前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>基础</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/wwblog/pages/73309c/" class="nav-link">Html</a></li><li class="dropdown-subitem"><a href="/wwblog/pages/ed3de1/" class="nav-link">Css</a></li><li class="dropdown-subitem"><a href="/wwblog/pages/738fa3/" class="nav-link">Less</a></li><li class="dropdown-subitem"><a href="/wwblog/pages/227687/" class="nav-link">JavaScript</a></li><li class="dropdown-subitem"><a href="/wwblog/pages/d0f169/" class="nav-link">TypeScript</a></li></ul></li><li class="dropdown-item"><h4>框架</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/wwblog/pages/44307d/" class="nav-link">Vue</a></li><li class="dropdown-subitem"><a href="/wwblog/pages/087eee/" class="nav-link">Pinia</a></li><li class="dropdown-subitem"><a href="/wwblog/pages/b2b4ce/" class="nav-link">Vite</a></li><li class="dropdown-subitem"><a href="/wwblog/pages/0f8172/" class="nav-link">Webpack</a></li></ul></li><li class="dropdown-item"><h4>小程序</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/wwblog/pages/56b587/" class="nav-link">原生小程序</a></li><li class="dropdown-subitem"><a href="/wwblog/pages/dace69/" class="nav-link">Taro多端</a></li></ul></li><li class="dropdown-item"><h4>跨平台</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/wwblog/pages/1c2e60/" class="nav-link">Electron 🕳️</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="📗 Node" class="dropdown-title"><a href="/wwblog/pages/fa5d34/" class="link-title">📗 Node</a> <span class="title" style="display:none;">📗 Node</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/wwblog/pages/fa5d34/" class="nav-link">📖 Koa</a></li><li class="dropdown-item"><!----> <a href="/wwblog/pages/3a1aae/" class="nav-link">📖 Express</a></li><li class="dropdown-item"><!----> <a href="/wwblog/pages/4fff19/" class="nav-link">📖 MySQL</a></li><li class="dropdown-item"><!----> <a href="/wwblog/pages/001c58/" class="nav-link">📖 Package</a></li></ul></div></div><div class="nav-item"><a href="/wwblog/pages/0a6cce/" class="nav-link">📘 Git</a></div><div class="nav-item"><a href="/wwblog/pages/5af5f1/" class="nav-link">📒 面试题</a></div><div class="nav-item"><a href="/wwblog/pages/900797/" class="nav-link">📙 资源链接</a></div> <a href="https://github.com/MX-lbw/vuepressBlog" target="_blank" title="GitHub" rel="noopener noreferrer" class="repo-link"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1.2em" height="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24" data-v-6163be0c><path d="M5.883 18.653c-.3-.2-.558-.455-.86-.816a50.32 50.32 0 0 1-.466-.579c-.463-.575-.755-.84-1.057-.949a1 1 0 0 1 .676-1.883c.752.27 1.261.735 1.947 1.588c-.094-.117.34.427.433.539c.19.227.33.365.44.438c.204.137.587.196 1.15.14c.023-.382.094-.753.202-1.095C5.38 15.31 3.7 13.396 3.7 9.64c0-1.24.37-2.356 1.058-3.292c-.218-.894-.185-1.975.302-3.192a1 1 0 0 1 .63-.582c.081-.024.127-.035.208-.047c.803-.123 1.937.17 3.415 1.096A11.731 11.731 0 0 1 12 3.315c.912 0 1.818.104 2.684.308c1.477-.933 2.613-1.226 3.422-1.096c.085.013.157.03.218.05a1 1 0 0 1 .616.58c.487 1.216.52 2.297.302 3.19c.691.936 1.058 2.045 1.058 3.293c0 3.757-1.674 5.665-4.642 6.392c.125.415.19.879.19 1.38a300.492 300.492 0 0 1-.012 2.716a1 1 0 0 1-.019 1.958c-1.139.228-1.983-.532-1.983-1.525l.002-.446l.005-.705c.005-.708.007-1.338.007-1.998c0-.697-.183-1.152-.425-1.36c-.661-.57-.326-1.655.54-1.752c2.967-.333 4.337-1.482 4.337-4.66c0-.955-.312-1.744-.913-2.404a1 1 0 0 1-.19-1.045c.166-.414.237-.957.096-1.614l-.01.003c-.491.139-1.11.44-1.858.949a1 1 0 0 1-.833.135A9.626 9.626 0 0 0 12 5.315c-.89 0-1.772.119-2.592.35a1 1 0 0 1-.83-.134c-.752-.507-1.374-.807-1.868-.947c-.144.653-.073 1.194.092 1.607a1 1 0 0 1-.189 1.045C6.016 7.89 5.7 8.694 5.7 9.64c0 3.172 1.371 4.328 4.322 4.66c.865.097 1.201 1.177.544 1.748c-.192.168-.429.732-.429 1.364v3.15c0 .986-.835 1.725-1.96 1.528a1 1 0 0 1-.04-1.962v-.99c-.91.061-1.662-.088-2.254-.485z" fill="currentColor"></path></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/wwblog/" class="nav-link">🔥 首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🚀 前端" class="dropdown-title"><a href="/wwblog/pages/73309c/" class="link-title">🚀 前端</a> <span class="title" style="display:none;">🚀 前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>基础</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/wwblog/pages/73309c/" class="nav-link">Html</a></li><li class="dropdown-subitem"><a href="/wwblog/pages/ed3de1/" class="nav-link">Css</a></li><li class="dropdown-subitem"><a href="/wwblog/pages/738fa3/" class="nav-link">Less</a></li><li class="dropdown-subitem"><a href="/wwblog/pages/227687/" class="nav-link">JavaScript</a></li><li class="dropdown-subitem"><a href="/wwblog/pages/d0f169/" class="nav-link">TypeScript</a></li></ul></li><li class="dropdown-item"><h4>框架</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/wwblog/pages/44307d/" class="nav-link">Vue</a></li><li class="dropdown-subitem"><a href="/wwblog/pages/087eee/" class="nav-link">Pinia</a></li><li class="dropdown-subitem"><a href="/wwblog/pages/b2b4ce/" class="nav-link">Vite</a></li><li class="dropdown-subitem"><a href="/wwblog/pages/0f8172/" class="nav-link">Webpack</a></li></ul></li><li class="dropdown-item"><h4>小程序</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/wwblog/pages/56b587/" class="nav-link">原生小程序</a></li><li class="dropdown-subitem"><a href="/wwblog/pages/dace69/" class="nav-link">Taro多端</a></li></ul></li><li class="dropdown-item"><h4>跨平台</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/wwblog/pages/1c2e60/" class="nav-link">Electron 🕳️</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="📗 Node" class="dropdown-title"><a href="/wwblog/pages/fa5d34/" class="link-title">📗 Node</a> <span class="title" style="display:none;">📗 Node</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/wwblog/pages/fa5d34/" class="nav-link">📖 Koa</a></li><li class="dropdown-item"><!----> <a href="/wwblog/pages/3a1aae/" class="nav-link">📖 Express</a></li><li class="dropdown-item"><!----> <a href="/wwblog/pages/4fff19/" class="nav-link">📖 MySQL</a></li><li class="dropdown-item"><!----> <a href="/wwblog/pages/001c58/" class="nav-link">📖 Package</a></li></ul></div></div><div class="nav-item"><a href="/wwblog/pages/0a6cce/" class="nav-link">📘 Git</a></div><div class="nav-item"><a href="/wwblog/pages/5af5f1/" class="nav-link">📒 面试题</a></div><div class="nav-item"><a href="/wwblog/pages/900797/" class="nav-link">📙 资源链接</a></div> <a href="https://github.com/MX-lbw/vuepressBlog" target="_blank" title="GitHub" rel="noopener noreferrer" class="repo-link"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1.2em" height="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24" data-v-6163be0c><path d="M5.883 18.653c-.3-.2-.558-.455-.86-.816a50.32 50.32 0 0 1-.466-.579c-.463-.575-.755-.84-1.057-.949a1 1 0 0 1 .676-1.883c.752.27 1.261.735 1.947 1.588c-.094-.117.34.427.433.539c.19.227.33.365.44.438c.204.137.587.196 1.15.14c.023-.382.094-.753.202-1.095C5.38 15.31 3.7 13.396 3.7 9.64c0-1.24.37-2.356 1.058-3.292c-.218-.894-.185-1.975.302-3.192a1 1 0 0 1 .63-.582c.081-.024.127-.035.208-.047c.803-.123 1.937.17 3.415 1.096A11.731 11.731 0 0 1 12 3.315c.912 0 1.818.104 2.684.308c1.477-.933 2.613-1.226 3.422-1.096c.085.013.157.03.218.05a1 1 0 0 1 .616.58c.487 1.216.52 2.297.302 3.19c.691.936 1.058 2.045 1.058 3.293c0 3.757-1.674 5.665-4.642 6.392c.125.415.19.879.19 1.38a300.492 300.492 0 0 1-.012 2.716a1 1 0 0 1-.019 1.958c-1.139.228-1.983-.532-1.983-1.525l.002-.446l.005-.705c.005-.708.007-1.338.007-1.998c0-.697-.183-1.152-.425-1.36c-.661-.57-.326-1.655.54-1.752c2.967-.333 4.337-1.482 4.337-4.66c0-.955-.312-1.744-.913-2.404a1 1 0 0 1-.19-1.045c.166-.414.237-.957.096-1.614l-.01.003c-.491.139-1.11.44-1.858.949a1 1 0 0 1-.833.135A9.626 9.626 0 0 0 12 5.315c-.89 0-1.772.119-2.592.35a1 1 0 0 1-.83-.134c-.752-.507-1.374-.807-1.868-.947c-.144.653-.073 1.194.092 1.607a1 1 0 0 1-.189 1.045C6.016 7.89 5.7 8.694 5.7 9.64c0 3.172 1.371 4.328 4.322 4.66c.865.097 1.201 1.177.544 1.748c-.192.168-.429.732-.429 1.364v3.15c0 .986-.835 1.725-1.96 1.528a1 1 0 0 1-.04-1.962v-.99c-.91.061-1.662-.088-2.254-.485z" fill="currentColor"></path></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>内置模块</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/wwblog/pages/1b0e07/" aria-current="page" class="active sidebar-link">Nodejs核心模块</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/wwblog/pages/1b0e07/#_1-buffer-缓冲器" class="sidebar-link">1 Buffer 缓冲器</a></li><li class="sidebar-sub-header level2"><a href="/wwblog/pages/1b0e07/#第-2-章-process" class="sidebar-link">第 2 章：process</a></li><li class="sidebar-sub-header level2"><a href="/wwblog/pages/1b0e07/#第-3-章-path-路径" class="sidebar-link">第 3 章：path 路径</a></li><li class="sidebar-sub-header level2"><a href="/wwblog/pages/1b0e07/#第-4-章-fs-文件系统" class="sidebar-link">第 4 章：fs 文件系统</a></li><li class="sidebar-sub-header level2"><a href="/wwblog/pages/1b0e07/#第-5-章-events-事件触发器" class="sidebar-link">第 5 章 events 事件触发器</a></li><li class="sidebar-sub-header level2"><a href="/wwblog/pages/1b0e07/#第-6-章-crypto-加密" class="sidebar-link">第 6 章 crypto 加密</a></li><li class="sidebar-sub-header level2"><a href="/wwblog/pages/1b0e07/#第-7-章-http-模块" class="sidebar-link">第 7 章 http 模块</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Koa</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/wwblog/pages/fa5d34/" class="sidebar-link">Koa</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Express</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/wwblog/pages/3a1aae/" class="sidebar-link">express</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Mysql</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/wwblog/pages/4fff19/" class="sidebar-link">Mysql</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>package</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/wwblog/pages/001c58/" class="sidebar-link">pm2</a></li></ul></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-f8b55ed6><div class="articleInfo" data-v-f8b55ed6><ul class="breadcrumbs" data-v-f8b55ed6><li data-v-f8b55ed6><a href="/wwblog/" title="首页" class="iconfont icon-home router-link-active" data-v-f8b55ed6></a></li> <li data-v-f8b55ed6><span data-v-f8b55ed6>内置模块</span></li> <!----></ul> <div class="info" data-v-f8b55ed6><div title="作者" class="author iconfont icon-touxiang" data-v-f8b55ed6><a href="https://github.com/MX-lbw" target="_blank" title="作者" class="beLink" data-v-f8b55ed6>wuwei</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-f8b55ed6><a href="javascript:;" data-v-f8b55ed6>2023-04-05</a></div> <div class="page-view" style="margin-left:0;" data-v-47d906e8 data-v-f8b55ed6><div title="文章字数" class="book-words iconfont icon-book" data-v-47d906e8><a href="javascript:;" style="margin-left: 3px; color: #888" data-v-47d906e8>0</a></div> <!----> <div title="浏览量" class="page-view iconfont icon-view" data-v-47d906e8><a href="javascript:;" id="busuanzi_value_page_pv" class="view-data" style="color: #888; margin-left: 3px" data-v-47d906e8><i title="正在获取..." class="loading iconfont icon-loading" data-v-47d906e8></i></a></div></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">Nodejs核心模块<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h2 id="_1-buffer-缓冲器"><a href="#_1-buffer-缓冲器" class="header-anchor">#</a> 1 Buffer 缓冲器</h2> <h3 id="_1-1-buffer-是什么"><a href="#_1-1-buffer-是什么" class="header-anchor">#</a> 1.1 Buffer 是什么</h3> <p>JavaScript 语言没有读取或操作二进制数据流的机制。 Buffer 类被引入作为 Node.js API 的一部分，使其可以在文件系统操作等场景中处理二进制数据流</p> <p>Buffer 是一个和数组类似的对象，不同是 Buffer 是专门用来保存二进制数据的(数据储存为二进制数据，性能是最好的)。</p> <p>Buffer 类在全局作用域中，在 Global 上，可以直接使用，因此无需使用 require('buffer').Buffer</p> <h3 id="_1-2-buffer-特点"><a href="#_1-2-buffer-特点" class="header-anchor">#</a> 1.2 Buffer 特点</h3> <ol><li><p>大小固定：在创建时就确定了，且无法调整</p></li> <li><p>性能较好：直接对计算机的内存进行操作</p></li> <li><p>每个元素大小为 1 字节</p></li></ol> <h3 id="_1-3-buffer-的创建"><a href="#_1-3-buffer-的创建" class="header-anchor">#</a> 1.3 Buffer 的创建</h3> <ul><li><strong>Buffer.alloc(size[, fill[, encoding]])：</strong> 返回一个指定大小的 Buffer 实例，如果没有设置 fill，则默认填满 0</li> <li><strong>Buffer.allocUnsafe(size)：</strong> 返回一个指定大小的 Buffer 实例，但是它不会被初始化，所以它可能包含敏感的数据</li> <li><strong>Buffer.from(string[, encoding])：</strong> 返回一个被 string 的值初始化的新的 Buffer 实例</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Buffer<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//1</span>
<span class="token comment">// 创建一个长度为 10、且用零填充的 Buffer。</span>
<span class="token comment">// 找到一个区域，清空并创建</span>
<span class="token keyword">const</span> buf1 <span class="token operator">=</span> Buffer<span class="token punctuation">.</span><span class="token function">alloc</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>buf1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//&lt;Buffer 00 00 00 00 00 00 00 00 00 00&gt;</span>

<span class="token comment">//2</span>
<span class="token comment">// 创建一个长度为 10、且用&quot;atguigu&quot;填充的 Buffer。</span>
<span class="token comment">// 找到一个区域，清空并创建</span>
<span class="token keyword">const</span> buf1 <span class="token operator">=</span> Buffer<span class="token punctuation">.</span><span class="token function">alloc</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">&quot;atguigu&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>buf1<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//3</span>
<span class="token comment">// 创建一个长度为 10、且未初始化的 Buffer。</span>
<span class="token comment">// 这个方法比调用 Buffer.alloc() 更快，</span>
<span class="token comment">// 但返回的 Buffer 实例可能包含旧数据，计算机删除的时候，等空闲才开始删除，所以可能会有遗留数据</span>
<span class="token comment">// 因此需要使用 buf2.fill() 或 buf2.write() 重写。</span>
<span class="token keyword">const</span> buf2 <span class="token operator">=</span> Buffer<span class="token punctuation">.</span><span class="token function">allocUnsafe</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>buf2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//&lt;Buffer d4 d8 04 04 01 00 00 00 30 35&gt;</span>

<span class="token comment">//4</span>
<span class="token comment">//将字符串用二进制在buffer中存起来</span>
<span class="token comment">//buffer每个为1字节 - 1byte(b)</span>
<span class="token comment">//buffer中的每一个值是16进制  00--ff   二进制就是00000000--11111111</span>
<span class="token comment">//1个数据(1b)==》8bit（8位二进制数据）</span>
<span class="token comment">//1个英文代表一个字节  中文位3个字节</span>
<span class="token comment">/*
	1 byte / b = 8 bit
    1 kb = 1024 byte
    1 mb = 1024 kb 
    1 gb = 1024 mb
    1 tb = 1024 gb
*/</span>
<span class="token keyword">const</span> buf3 <span class="token operator">=</span> Buffer<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">&quot;hello atguigu&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>buf3<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &lt;Buffer 68 65 6c 6c 6f 20 61 74 67 75 69 67 75&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><h4 id="_1-4-buffer-的使用"><a href="#_1-4-buffer-的使用" class="header-anchor">#</a> 1.4 Buffer 的使用</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> buf3 <span class="token operator">=</span> Buffer<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">&quot;hello atguigu&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>buf3<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &lt;Buffer 68 65 6c 6c 6f 20 61 74 67 75 69 67 75&gt;</span>
<span class="token comment">//可以便遍历buffer中的每一个值</span>
buf3<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">//104、101、108、108、111、32、97、116、103、117、105、103、117</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 打印时会自动转换成10进制显示</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//可以将buffer转换成字符串</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>buf3<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// hello atguigu</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="第-2-章-process"><a href="#第-2-章-process" class="header-anchor">#</a> 第 2 章：process</h2> <h3 id="_2-1-process-是什么"><a href="#_2-1-process-是什么" class="header-anchor">#</a> 2.1 process 是什么</h3> <p><code>process</code> 对象是一个全局变量，它提供有关当前 Node.js 进程的信息并对其进行控制。 作为一个全局变量，它始终可供 Node.js 应用程序使用，无需使用 <code>require()</code>。 它也可以使用 <code>require()</code> 显式地访问：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> process <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;process&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_2-2-process-的常见的属性和方法"><a href="#_2-2-process-的常见的属性和方法" class="header-anchor">#</a> 2.2 process 的常见的属性和方法</h3> <ul><li><p>argv 属性返回一个数组，其中包含当启动 Node.js 进程时传入的命令行参数</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>argv<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//启动命令：node 02.process.js</span>
<span class="token comment">/*
	[ 
      '/usr/local/bin/node',
      '/Users/lipeihua/Desktop/nodeJS/class191108/03.nodejs/day02/02.process.js' 
	]
*/</span>

<span class="token comment">//启动命令：node 02.process.js hello</span>
<span class="token comment">/*
	[ 
      '/usr/local/bin/node',
      '/Users/lipeihua/Desktop/nodeJS/class191108/03.nodejs/day02/02.process.js'
      'hello'
	]
*/</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div></li> <li><p>argv0 属性保存当 Node.js 启动时传入的 <code>argv[0]</code> 的原始值的只读副本,也就是获取 nodejs 程序目录</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>argv0<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/*
    '/usr/local/bin/node'
*/</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li> <li><p>cwd() 方法返回 Node.js 进程的当前工作目录。绝对路径</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>process<span class="token punctuation">.</span><span class="token function">cwd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// /Users/lipeihua/Desktop/nodeJS/class191108/03.nodejs/day02</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p>exit([code]) 退出进程</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;定时器执行了:&quot;</span><span class="token punctuation">,</span> <span class="token operator">++</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">&gt;</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    process<span class="token punctuation">.</span><span class="token function">exit</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/*
    定时器执行了: 1
    定时器执行了: 2
    定时器执行了: 3
    定时器执行了: 4
    定时器执行了: 5
    定时器执行了: 6
*/</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div></li></ul> <h2 id="第-3-章-path-路径"><a href="#第-3-章-path-路径" class="header-anchor">#</a> 第 3 章：path 路径</h2> <h3 id="_3-1-path-是什么"><a href="#_3-1-path-是什么" class="header-anchor">#</a> 3.1 path 是什么</h3> <p><code>path</code> 模块提供用于处理文件路径和目录路径的实用工具。 它可以使用以下方式访问：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_3-2-path-的使用"><a href="#_3-2-path-的使用" class="header-anchor">#</a> 3.2 path 的使用</h3> <ul><li><p>path.resolve([...paths]) 方法将路径或路径片段的序列解析为绝对路径</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&quot;./index.html&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">///Users/lipeihua/Desktop/nodeJS/class/03.nodejs/day02/index.html</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&quot;../index&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;hello.html&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">///Users/lipeihua/Desktop/nodeJS/class/03.nodejs/index/hello.html</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li></ul> <h3 id="_3-3-path-练习"><a href="#_3-3-path-练习" class="header-anchor">#</a> 3.3 path 练习</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//需求1：在path.js(当前)文件，获取process.js（path的兄弟）文件的绝对路径</span>
<span class="token keyword">const</span> dirname <span class="token operator">=</span> __dirname<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;02.process.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//需求：在path.js（当前）文件，获取git.md文件（其他目录）的绝对路径</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;../../&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;02.作业&amp;笔记/&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;笔记/git.md&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="第-4-章-fs-文件系统"><a href="#第-4-章-fs-文件系统" class="header-anchor">#</a> 第 4 章：fs 文件系统</h2> <h3 id="_4-1-fs-是什么"><a href="#_4-1-fs-是什么" class="header-anchor">#</a> 4.1 fs 是什么</h3> <p>全称为 file system，所谓的文件系统，就是对计算机中的文件进行增删改查等操作。它是一个服务器的基础，在 Node 中通过 fs 模块来操作文件系统。</p> <h3 id="_4-2-fs-的使用"><a href="#_4-2-fs-的使用" class="header-anchor">#</a> 4.2 fs 的使用</h3> <ul><li><p>fs 模块是 Node 的核心模块，不需要下载，直接引入即可使用</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;fs&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>fs 中的大部分方法都为我们提供了两个版本：</p> <ul><li><p>同步方法：带 sync 的方法</p> <ul><li><p>同步方法会阻塞程序的执行</p></li> <li><p>同步方法通过返回值返回结果</p></li></ul></li> <li><p>异步方法：不带 sync 的方法</p> <ul><li>异步方法不会阻塞程序的执行</li> <li>异步方法都是通过回调函数来返回结果的</li></ul></li></ul></li></ul> <h3 id="_4-3-文件的写入"><a href="#_4-3-文件的写入" class="header-anchor">#</a> 4.3 文件的写入</h3> <h4 id="_4-3-1-同步写入"><a href="#_4-3-1-同步写入" class="header-anchor">#</a> 4.3.1 同步写入</h4> <ul><li><p>打开文件 <code>fs.openSync(path[, flags, mode])</code></p> <ul><li><p>filePath:是当前的文件路径</p></li> <li><p>flags:文件系统标志</p> <ul><li><code>'a'</code> - 打开文件用于追加。如果文件不存在，则创建该文件</li> <li><code>'w'</code> - 打开文件用于写入。如果文件不存在则创建文件，如果文件已存在则截断文件</li> <li><code>'r'</code> - 打开文件用于读取。如果文件不存在，则出现异常。</li></ul></li> <li><p>mode:默认值：0o666(文件可读可写)</p></li> <li><p>返回表示文件描述符的整数</p></li></ul></li> <li><p>写入内容<code>fs.writeSync(fd, string)</code></p> <ul><li>fd 要写入的文件的描述符</li> <li>string 要写入的内容</li></ul></li> <li><p>关闭文件 fs.closeSync(fd)</p> <p>fd:文件描述符</p></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;fs&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> filepath <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;a.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> fd <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">openSync</span><span class="token punctuation">(</span>filepath<span class="token punctuation">,</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fd<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//32</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">writeSync</span><span class="token punctuation">(</span>fd<span class="token punctuation">,</span> <span class="token string">&quot;汗滴禾下土~&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//16</span>
fs<span class="token punctuation">.</span><span class="token function">closeSync</span><span class="token punctuation">(</span>fd<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h4 id="_4-3-2-异步写入"><a href="#_4-3-2-异步写入" class="header-anchor">#</a> 4.3.2 异步写入</h4> <p>异步写入：一般都有回调函数</p> <ul><li><p>打开文件<code>fs.open(path, flags[, mode], callback)</code></p> <ul><li><p>path 要打开的文件的路径</p></li> <li><p>flags 对文件做操作的类型</p></li> <li><p>mode 设置文件的权限，默认 0666，一般我们不传（尤其在 windows 中）</p></li> <li><p>callback 回调函数，异步方法通过回调函数返回文件的描述符（fd）,同步方法通过返回值返回 。</p> <ul><li><p>回调函数的参数：(err , fd)</p></li> <li><p>err 表示错误对象，如果执行时出现错误则该对象存在，在 nodejs 程序设计中，往往异步回调函数的第一个参数都是 error，这种机制我们叫做 错误优先机制（提倡优先解决错误~）</p></li> <li><p>fd 文件的描述符，通过 fd 来对文件进行操作</p></li></ul></li> <li><p>返回值： 当打开文件以后，方法会返回一个文件的描述符作为返回值</p></li></ul></li> <li><p>写入内容并保存 <code>fs.write(fd, string, callback)</code></p> <ul><li><p>fd 要写入的文件的描述符</p></li> <li><p>string 要写入的内容</p></li> <li><p>callback 回调函数，写入完成以后会调用该回调函数</p> <p>参数：err 错误的对象</p></li></ul></li> <li><p>关闭文件<code>fs.close(fd, callback)</code></p> <ul><li>fd 要关闭的文件的文件描述符</li> <li>callback 回调函数，关闭文件以后会调用该回调函数</li></ul></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;fs&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> filepath <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;a.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
fs<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>filepath<span class="token punctuation">,</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">error<span class="token punctuation">,</span> fd</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 优先处理错误</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 业务功能逻辑</span>
  <span class="token comment">// 写入内容</span>
  fs<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>fd<span class="token punctuation">,</span> <span class="token string">&quot;今天天气不晴朗~&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// 优先处理错误</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 不管做成功还是失败，都要关闭文件</span>
    fs<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span>fd<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;文件关闭&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//解决以上问题的异步回调地狱</span>
<span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;fs&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 打开文件</span>
<span class="token comment">// 封装方法</span>
<span class="token keyword">function</span> <span class="token function">open</span><span class="token punctuation">(</span><span class="token parameter">filename</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 创建promise对象并返回</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// 执行异步方法</span>
    <span class="token keyword">const</span> filepath <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> filename<span class="token punctuation">)</span><span class="token punctuation">;</span>
    fs<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>filepath<span class="token punctuation">,</span> <span class="token string">&quot;w&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> fd</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 当异步方法做失败了，将promise对象的状态改为失败状态</span>
        <span class="token function">reject</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token comment">// 当异步方法做成功了，将promise对象的状态改为成功状态</span>
      <span class="token function">resolve</span><span class="token punctuation">(</span>fd<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">write</span><span class="token punctuation">(</span><span class="token parameter">fd<span class="token punctuation">,</span> string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 创建promise对象并返回</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// 执行异步方法</span>
    fs<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>fd<span class="token punctuation">,</span> string<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">reject</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">close</span><span class="token punctuation">(</span><span class="token parameter">fd</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 创建promise对象并返回</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// 执行异步方法</span>
    fs<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span>fd<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">reject</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 定义async函数</span>
<span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// 执行异步操作</span>
  <span class="token comment">/*
    async函数返回值一定是promise对象

    await 会等后面的promise对象的状态发生变化（只会等promise对象，别的都不会等）
    一旦状态变成了成功状态，就不等了，会将resolve(value)中value返回
    一旦状态变成了失败状态，直接退出async函数（剩下代码就不会执行了），
      并将async函数返回promise对象的状态改为失败状态
  */</span>
  <span class="token keyword">const</span> fd <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&quot;a.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">await</span> <span class="token function">write</span><span class="token punctuation">(</span>fd<span class="token punctuation">,</span> <span class="token string">&quot;async函数+promise解决回调地狱&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">await</span> <span class="token function">close</span><span class="token punctuation">(</span>fd<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// async函数里面没有promise对象状态是失败状态</span>
    <span class="token comment">// 所有异步代码都成功</span>
    <span class="token comment">// 此时async函数返回的promise就是成功的状态</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;所有代码执行成功~&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// 只要async函数中有一个promise对象变成失败，</span>
    <span class="token comment">// 就会终止运行，返回一个失败状态的promise</span>
    <span class="token comment">// err就是失败的原因（里面promise  reject(err)中的err）</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;方法执行失败了&quot;</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br></div></div><h4 id="_4-3-3-简单写入"><a href="#_4-3-3-简单写入" class="header-anchor">#</a> 4.3.3 简单写入</h4> <p><code>同步方法：fs.writeFileSync(file, data[, options])</code></p> <p><code>异步方法：fs.writeFile(file, data[, options], callback)</code></p> <blockquote><p>参数：</p> <ul><li>file 要写入的文件的路径</li> <li>data 要写入的内容，可以是一个 String 也可以是一个 Buffer</li> <li>options 配置对象，需要一个对象作为参数，默认如下： {encoding:&quot;utf8&quot;,flag:&quot;w&quot;,mode:0666}</li> <li>callback 回调函数</li></ul></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;fs&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> filepath <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;b.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

fs<span class="token punctuation">.</span><span class="token function">writeFile</span><span class="token punctuation">(</span>filepath<span class="token punctuation">,</span> <span class="token string">&quot;唱歌真好听~~~&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">flag</span><span class="token operator">:</span> <span class="token string">&quot;a&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// 优先处理错误~</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;文件写入成功~&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h4 id="_4-3-4-流式写入"><a href="#_4-3-4-流式写入" class="header-anchor">#</a> 4.3.4 流式写入</h4> <ul><li><p>fs 模块处理文件的缺点：将文件的数据全读到内存中，在把数据写到文件内，会大量占用内存</p></li> <li><p>流（stream）是 Node.js 中处理流式数据的抽象接口，是一组有序的，有起点和终点的字节数据传输手段。可以实现将数据从一个地方流动到另一个地方，其边读取边写入的特点有别于 fs 模块的文件处理，并且可以做到控制读取文件和写入文件的速度，从而减少内存的占用</p></li> <li><p>流是基于事件的，所有的流对象都用 on(once)绑定事件，并触发</p></li> <li><p>流式文件写入适用于一些比较大的文件，可以分多次向文件中写入内容，有效避免内存溢出的问题</p></li></ul> <p><code>fs.createWriteStream(path[, options])</code></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> filepath <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'c.txt'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 创建可写流</span>
<span class="token keyword">const</span> ws <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">createWriteStream</span><span class="token punctuation">(</span>filepath<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 绑定事件：监听流式文件写入是否结束</span>
<span class="token comment">// on 绑定的是持久性事件</span>
<span class="token comment">// once 绑定的是一次性事件（执行完事件后会自动解绑）</span>
ws<span class="token punctuation">.</span><span class="token function">once</span><span class="token punctuation">(</span><span class="token string">'open'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'可写流打开了~'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

ws<span class="token punctuation">.</span><span class="token function">once</span><span class="token punctuation">(</span><span class="token string">'close'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'可写流关闭了~'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>cw

<span class="token comment">// 往可写流中塞数据</span>
ws<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">'锄禾日当午~~~'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ws<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">'汗滴禾下土~~~'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ws<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">'谁知盘中餐~~~'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ws<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">'粒粒皆辛苦~~~'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//关闭末尾</span>
<span class="token comment">//ws.close();</span>
<span class="token comment">// 关闭开头</span>
ws<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h3 id="_4-4-文件的读取"><a href="#_4-4-文件的读取" class="header-anchor">#</a> 4.4 文件的读取</h3> <h4 id="_4-4-1-简单读取文件"><a href="#_4-4-1-简单读取文件" class="header-anchor">#</a> 4.4.1 简单读取文件</h4> <p><code>fs.readFileSync(path[, options])</code></p> <p><code>fs.readFile(path[, options], callback)</code></p> <blockquote><p>参数：</p> <ul><li><p>path 读取文件的路径</p></li> <li><p>options 配置对象 默认如下： {encoding:&quot;utf8&quot;,flag:&quot;w&quot;,mode:0666}</p></li> <li><p>callback 回调函数，通过回调函数返回读取到的数据</p> <p>err 错误对象</p> <p>data 返回的数据（Buffer）</p></li></ul></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;fs&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> filepath <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;03.path.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span>filepath<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;读取文件成功~&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 读取的数据是Buffer数据（里面保存二进制数据）</span>
  <span class="token comment">// 将Buffer数据转换成字符串</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h4 id="_4-4-2-使用-promisify-解决回调地狱"><a href="#_4-4-2-使用-promisify-解决回调地狱" class="header-anchor">#</a> 4.4.2 使用 promisify 解决回调地狱</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//案例1</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> promisify <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;util&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> readFile <span class="token operator">=</span> <span class="token function">promisify</span><span class="token punctuation">(</span>fs<span class="token punctuation">.</span>readFile<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">&quot;./conf.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">(</span>
  <span class="token comment">//案例2</span>
  <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;fs&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> promisify <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;util&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> readFile <span class="token operator">=</span> <span class="token function">promisify</span><span class="token punctuation">(</span>fs<span class="token punctuation">.</span>readFile<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">&quot;./index.html&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;data&quot;</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h4 id="_4-4-3-流式读取文件"><a href="#_4-4-3-流式读取文件" class="header-anchor">#</a> 4.4.3 流式读取文件</h4> <p>适合较大的文件</p> <p>创建可读流 fs.createReadStream()</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;fs&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 可以是自己书写的路径必须写双斜杠：第一斜杠是转义符</span>
<span class="token comment">// const filepath = '//Users//lipeihua//Desktop//nodeJS//08.简单文件写入.mp4';</span>
<span class="token keyword">const</span> filepath <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;a.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 创建可读流</span>
<span class="token keyword">const</span> rs <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">createReadStream</span><span class="token punctuation">(</span>filepath<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> string <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// nodejs的设计一般都可以链式调用</span>
<span class="token comment">// 可读流默认情况下，只会读取一次数据（64kb）</span>
<span class="token comment">// 消费读取的这个数据，可读流就会自动读取下一次数据</span>
rs<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;data&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">chunk</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">/*
      chunk就是可读流读取的数据, 大小为64kb
      data事件就是消费可读取读取的数据
      持续性事件会一直消费可读流~ 直到所有内容全部读取完毕，可读流会自动关闭~
    */</span>
  <span class="token comment">// console.log(chunk.toString());</span>
  string <span class="token operator">+=</span> chunk<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">once</span><span class="token punctuation">(</span><span class="token string">&quot;end&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// 可读流关闭事件 --&gt; 说明数据全部读取完了</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h3 id="_4-5-流式读写操作"><a href="#_4-5-流式读写操作" class="header-anchor">#</a> 4.5 流式读写操作</h3> <p>pipe()</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;fs&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> inputFilePath <span class="token operator">=</span> <span class="token string">&quot;//Users//lipeihua//Desktop//nodeJS//08.简单文件写入.mp4&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> outputFilePath <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;d.mp4&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 创建可读流 会自动关闭</span>
<span class="token keyword">const</span> rs <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">createReadStream</span><span class="token punctuation">(</span>inputFilePath<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 创建可写流 不会自动关闭，需要手动关闭</span>
<span class="token keyword">const</span> ws <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">createWriteStream</span><span class="token punctuation">(</span>outputFilePath<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/* rs.on('data', (chunk) =&gt; {
  // 当数据读取出来，要写入成另外一个文件
  ws.write(chunk);
})
.once('end', () =&gt; {
  // 可读流全部读取完毕了，关闭可写流
  ws.end();
}) */</span>

<span class="token comment">// pipe会持续性消费可读流数据</span>
<span class="token comment">// 将可读流数据写入到可写流中</span>
<span class="token comment">// 会自动关闭可写流</span>
rs<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>ws<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h2 id="第-5-章-events-事件触发器"><a href="#第-5-章-events-事件触发器" class="header-anchor">#</a> 第 5 章 events 事件触发器</h2> <h3 id="_5-1-什么是-events"><a href="#_5-1-什么是-events" class="header-anchor">#</a> 5.1 什么是 events</h3> <ul><li><p>所有能触发事件的对象都是 <code>EventEmitter</code> 类的实例。这些对象有一个 <code>eventEmitter.on()</code> 函数，用于将一个或多个函数绑定到命名事件上。还有一个.emit()函数用于触发监听器。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> EventEmitter <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;events&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">MyEmitter</span> <span class="token keyword">extends</span> <span class="token class-name">EventEmitter</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> myEmitter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyEmitter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
myEmitter<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;event&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;触发事件&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
myEmitter<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&quot;event&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li> <li><p>当绑定多个函数时，本质是同步执行的，当里面含有异步函数时，就会切换到异步模式。</p></li> <li><p>once()函数可注册最多只监听一次的函数。</p></li></ul> <h3 id="_5-2-常见方法"><a href="#_5-2-常见方法" class="header-anchor">#</a> 5.2 常见方法</h3> <ul><li><p>on()添加一个监听器</p></li> <li><p>addListener().和上面一样，别名而已。</p></li> <li><p>once(),某个事件只执行一次。</p></li> <li><p>emit() 事件触发器。</p></li></ul> <h3 id="_5-3-练习"><a href="#_5-3-练习" class="header-anchor">#</a> 5.3 练习</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">/*
  练习题：请你实现EmiterEvents。--&gt; 自定义事件
*/</span>
<span class="token keyword">const</span> EmiterEvents <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;events&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">MyEmiter</span> <span class="token keyword">extends</span> <span class="token class-name">EmiterEvents</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> myEvent <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyEmiter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 自定义事件</span>
<span class="token comment">// 绑定持久性事件</span>
myEvent<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;aaa&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;回调函数111 - aaa事件触发了~&quot;</span><span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">callback</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;回调函数222 - aaa事件触发了~&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
myEvent<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;aaa&quot;</span><span class="token punctuation">,</span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 绑定一次性事件</span>
myEvent<span class="token punctuation">.</span><span class="token function">once</span><span class="token punctuation">(</span><span class="token string">&quot;bbb&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;bbb事件触发了~&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 触发自定义事件</span>
myEvent<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&quot;aaa&quot;</span><span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">,</span> <span class="token number">456</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 解绑事件</span>
myEvent<span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span><span class="token string">&quot;aaa&quot;</span><span class="token punctuation">,</span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span>

myEvent<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&quot;aaa&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// myEvent.emit('bbb');</span>
<span class="token comment">// myEvent.emit('bbb');</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><h2 id="第-6-章-crypto-加密"><a href="#第-6-章-crypto-加密" class="header-anchor">#</a> 第 6 章 crypto 加密</h2> <h3 id="_6-1-什么是-crypto"><a href="#_6-1-什么是-crypto" class="header-anchor">#</a> 6.1 什么是 crypto</h3> <p><code>crypto</code> 模块提供了加密功能，包括对 OpenSSL 的哈希、HMAC、加密、解密、签名、以及验证功能的一整套封装。</p> <p>使用 <code>require('crypto')</code> 来访问该模块。</p> <h3 id="_6-2-加密算法"><a href="#_6-2-加密算法" class="header-anchor">#</a> 6.2 加密算法</h3> <p>消息摘要加密算法 （md5 sha1 sha256 sha512）</p> <ul><li><p>生成的密文长度固定</p></li> <li><p>同样的明文加密后一定得到同样的密文</p></li> <li><p>不可逆 （不能通过密文逆向破解明文）</p></li></ul> <h3 id="_6-3-使用"><a href="#_6-3-使用" class="header-anchor">#</a> 6.3 使用</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> crypto <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;crypto&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// const md5 = crypto.createHash('md5');</span>
<span class="token keyword">const</span> md5 <span class="token operator">=</span> crypto<span class="token punctuation">.</span><span class="token function">createHash</span><span class="token punctuation">(</span><span class="token string">&quot;sha256&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 定义明文  必须是字符串</span>
<span class="token keyword">let</span> password <span class="token operator">=</span> <span class="token string">&quot;123456&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// 定义盐</span>
<span class="token keyword">const</span> salt <span class="token operator">=</span> <span class="token string">&quot;6TE#6gbXQO&quot;</span><span class="token punctuation">;</span>

password <span class="token operator">=</span> password <span class="token operator">+</span> salt<span class="token punctuation">;</span>

<span class="token comment">// md5.update(password, 'utf8') 加密处理，生成密文</span>
<span class="token comment">// digest('hex') 装换成16进制显示</span>
<span class="token keyword">const</span> secret <span class="token operator">=</span> md5<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>password<span class="token punctuation">,</span> <span class="token string">&quot;utf8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">digest</span><span class="token punctuation">(</span><span class="token string">&quot;hex&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 密文</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>secret<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 54269bc65b5d1be10a75645a296b78c3</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h2 id="第-7-章-http-模块"><a href="#第-7-章-http-模块" class="header-anchor">#</a> 第 7 章 http 模块</h2> <h3 id="_7-1-什么是-http"><a href="#_7-1-什么是-http" class="header-anchor">#</a> 7.1 什么是 http</h3> <ul><li><p>传统的 HTPP 服务器会由 Aphche、Nginx、IIS 之类的软件来担任，但是 nodejs 并不需要，nodejs 提供了 http 模块，自身就可以用来构建服务器，而且 http 模块是由 C++实现的，性能可靠</p></li> <li><p>要使用 HTTP 服务器和客户端，必须 <code>require('http')</code>。</p></li> <li><p>既能搭建服务器，也能客户端</p> <ul><li>服务器：接受请求、处理请求、返回响应</li> <li>客户端：发送请求，接受响应</li></ul></li></ul> <h3 id="_7-2-搭建服务器端"><a href="#_7-2-搭建服务器端" class="header-anchor">#</a> 7.2 搭建服务器端</h3> <ul><li>通过指令运行服务器
node xxx</li> <li>通过 定义的 ip 和端口号 访问服务器</li> <li>一旦访问服务器，服务器就会通过 http.createServer(callback(req,res)) 中 callback 处理请求</li> <li>res.end(&quot;hello server~&quot;); 来返回响应</li> <li>通过 server.listen(port, host,callBack)来监听端口号和主机</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 引入http模块</span>
<span class="token keyword">const</span> http <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;http&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 创建服务</span>
<span class="token keyword">const</span> server <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">/*
    request 请求对象：客户端发送给服务器的数据
    response 响应对象：服务器发送给客户端的数据
  */</span>
  <span class="token comment">// 处理请求</span>
  <span class="token comment">// 返回响应</span>
  <span class="token comment">// res.setHeader(&quot;Content-Type&quot;, &quot;text/plain;charset=utf8&quot;);</span>
  res<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">&quot;Content-Type&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;text/html;charset=utf8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// res.end(&quot;hello server~&quot;);</span>
  <span class="token comment">// res.end(&quot;你好，旅客~&quot;);</span>
  res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token string">&quot;&lt;h1&gt;你好，旅客~&lt;/h1&gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 端口号</span>
<span class="token keyword">const</span> port <span class="token operator">=</span> <span class="token number">3000</span><span class="token punctuation">;</span>
<span class="token comment">// 主机名 / 域名</span>
<span class="token comment">// const host = &quot;localhost&quot;; // 域名</span>
<span class="token keyword">const</span> host <span class="token operator">=</span> <span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">;</span> <span class="token comment">// ip地址</span>
<span class="token comment">// 启动服务</span>
server<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span>port<span class="token punctuation">,</span> host<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;服务器启动失败了&quot;</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 访问服务器地址： http://localhost:3000</span>
  <span class="token keyword">const</span> address <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">http://</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>host<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>port<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">服务器启动成功了~ 访问服务器地址：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>address<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><h3 id="_7-3-搭建客户端"><a href="#_7-3-搭建客户端" class="header-anchor">#</a> 7.3 搭建客户端</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> http <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;http&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 要请求的服务器地址</span>
<span class="token keyword">const</span> url <span class="token operator">=</span> <span class="token string">&quot;http://localhost:3000&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// 发送请求的选项</span>
<span class="token comment">// const options = {};</span>

<span class="token comment">// 创建客户端</span>
<span class="token keyword">const</span> request <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// 接受到响应就会触发的回调函数</span>
  <span class="token comment">// response 响应对象</span>

  <span class="token comment">// 响应状态码</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>statusCode<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 200</span>

  <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>

  res
    <span class="token comment">// 接受响应数据的事件</span>
    <span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;data&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">chunk</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      result <span class="token operator">+=</span> chunk<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token comment">// 响应数据接受完毕</span>
    <span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;end&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;数据全部接受完毕：&quot;</span><span class="token punctuation">,</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 发送请求</span>
request<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div></div></div> <!----> <div class="page-edit"><!----> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2024/08/21, 14:10:51</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><!----> <a href="/wwblog/pages/fa5d34/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">Koa</div></a></div> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/wwblog/pages/fa5d34/">Koa</a>→
      </span></p></div></div></div> <!----></main></div> <div class="footer"><div class="icons"><a href="https://github.com/MX-lbw" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://www.jianshu.com/u/b5796d21ef29" title="jianshu" target="_blank" class="iconfont icon-jianshu"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2023-2024
    <span>Wu wei | MIT License</span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"><!----><div></div><!----></div></div>
    <script src="/wwblog/assets/js/app.0e0201b5.js" defer></script><script src="/wwblog/assets/js/3.e40f20a1.js" defer></script><script src="/wwblog/assets/js/1.6112db0e.js" defer></script><script src="/wwblog/assets/js/111.1c9d4e37.js" defer></script><script src="/wwblog/assets/js/25.f1c8b165.js" defer></script><script src="/wwblog/assets/js/26.8d4e2030.js" defer></script>
  </body>
</html>
